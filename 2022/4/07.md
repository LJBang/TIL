# 22.04.07
## 데브코스 라이브 세션
### Agile A/B Test
사용자들을 두 그룹으로 나누어 기존의 기능/ 새로운 기능에 각각 노출시켜 두 그룹간 퍼포먼스를 비교하는 것.  
적은 사용자에게 노출하면서 점진적으로 노출 트래픽을 늘려가므로 위험 부담이 적다.  
A/B테스트가 빨라져야 프로덕트를 빠르게 개선할 수 있다.  

- 데이터가 적거나 없으면 A/B테스트가 아니다, 규모가 적으면 풀체인지 후 빠르게 변경 하는 것이 더 낫다.  
- 버그는 바로 고쳐라
- 구체화 되지 않은 초기 아이디어 테스트는 의미 없다.  

#### A/B테스트의 문제
한 사용자가 다수의 A/B테스트에 속할 수 있음. -> 테스트간 상호작용이 결과에 영향을 미칠 수 있다.  
비용이 비싸다.  
한 번에 하나만 바꿔서 비교해야 함  
애초에 두 집단의 구성원이 다르므로 완벽하게 성능의 차이만을 분석할 수는 없다.  
얼마나 오래 테스트 해야 하는가?  

## 추천시스템 4일차
### 머신러닝 기반 추천 엔진
#### 사용자/ 아이템 기반 협업 필터링 특징
- 큰 행렬 계산은 쉽지 않다
- 많은 사용자들이 충분한 수의 리뷰를 남기지 않아 데이터가 부족하다.  

-> 모델 기반 협업 필터링을 사용하자!  

#### 행렬 분해 방식
- 사용자-아이템 평점 행렬을 채우는 문제로 재정의  
- PCA, SVD, SVD++ 등의 행렬 분해 방식이 있다.  

#### PCA
차원을 축소하되 원래 의미는 최대한 간직하자  
행렬의 크기는 줄일 수 있지만 그 이유는 알기가 힘들다.  

#### SVD
2개 혹은 3개의 작은 행렬의 곱으로 단순화 한다.(소인수 분해와 비슷)  
사용자 대 아이템 행렬은 3개 행렬의 곱으로 나눈다.  
- $U$: 사용자를 나타내는 작은 행렬
- $\sum$: U의 특정 부분을 시그널을 증폭 시켜주는 행렬(대각 행렬), 이를 보면 덜 중요한 부분 파악 가능
- $V^T$: 아이템을 나타내는 작은 행렬

#### SVD++
SVD나 PCA는 완전하게 채워져 있는 행렬의 차원수를 줄이는 방식  
SVD++는 sparse행렬이 주어졌을 때 비어있는 셀들을 채우는 방법을 배우는 알고리즘  
- RMSE값을 최소화 하면서 SGD를 통해 빈 값을 채운다.
- 사용자-아이템 평점 행렬을 입력으로 주면 세 행렬을 찾는다.  
Surprise 라이브러리나 sklearn의 TruncatedSVD사용  

`$u x n = (u x r) * (r x r) * (r x n)$`으로 분해하고, r은 하이퍼파라미터!  

### 오토인코더
대표적인 비지도학습을 위한 딥러닝 모델  
- 데이터의 숨겨진 구조를 발견하면서 노드의 수를 줄이는 것이 목표  
- 입력 데이터에서 불필요한 특징들을 제거한 압축된 특징을 학습하는 것  
- 오토인코더의 출력은 입력을 재구축한것 -> 최대한 비슷하게 나오도록 학습  
- 인코더-디코더 학습 후 인코더를 갖다 쓰자!  
- 출력층의 노드개수와 입력층의 노드개수가 같아야한다
- 은닉층의 노드 개수가 출력층/입력층의 노드 개수보다 작아야 한다.  
- 은닉층의 출력(인코더의 출력)을 다른 모델의 인풋으로 사용하겠다!  

