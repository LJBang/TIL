# 22.06.09

## 파이썬 클린코드
### getattr 속성
클래스에서 메서드나 속성을 호출할 때, 없는 속성을 호출하는 경우에는 `__getattr__` 메서드를 호출한다.  
```py
class DynamicAttributes:
    def __init__(self, attr):
        self.attr = attr
    
    def __getattr__(self, attr):
        if attr.startswith("fallback_"):
            name = attr.replace("fallback_", "")
            return f"[fallback resolved] {name}"
        raise AttributeError(f"{self.__class__.__name__}에는 {attr}속성이 없음")
```  
위 클래스에서 `fallback_`으로 시작하는 속성을 호출헸을 경우는 if를 통해 해결하고,  
아닐 경우에는 오류를 표출한다.  

### 함수의 인자
함수의 인자의 기본 값은 immutable한 개체를 사용해야한다.  
가장 처음 호출될 때 기본값으로 정의 되고 이후에도 남아있기 때문에 다음에 파라미터 없이 호출 시에 에러가 뜬다.  
이럴 때에는 기본 값으로 `None`를 놓고, 함수 내부에서 기본값을 정의하여 사용한다.  
이렇게 하면 기본 값이 지역변수가 되어 함수와 생명주기를 공유한다.  

### 내장 타입 확장
내장 기본 타입들(dict, list 등)을 확장해서 사용할 경우에는 collections 모듈을 써라.  
CPython에서는 클래스의 메서드를 서로 호출하지 않기 때문에, 하나를 오버라이드하면 나머지에는 반영되지 않는다.  
즉 리스트를 상속하는 mylist클래스를 만들 때, 모든 메서드를 전부 오버라이딩 하지 않는 한 올바르게 작동하지 않는다.  
대신 `collections.UserList`를 상속받아서 작성하자.  

## BERT
Transformer를 사용하는 모델.  
입력 시퀀스 토큰 중 일정 비율을 MASK하는데, 이 중 80%는 MASK, 10%는 다른 토큰 사용, 10%는 그대로 사용한다.  
이러한 과정을 거친 후 self-attention층을 지나면서 양방향에서 바라보며 MASKED 토큰을 예측하는 모델을 학습한다.  

