# 21.10.20
이제부터 CS 지식을 쌓자

## DB관련
DB가 존재하기 전에는 파일 시스템을 이용하여 데이터를 관리하였음.  
이때의 문제는 데이터 종속성 문제와 중복성, 데이터 무결성이다.  

### DB특징
1. 데이터 독립성
    - 물리적 독립성: 데이터베이스 사이즈를 늘리거나, 성능향상을 위해 데이터 파일을 늘리거나 추가하여도 관련된 프로그램을 수정할 필요가 없다.  
    - 논리적 독립성: 데이터베이스는 논리적인 구조로 다양한 응용 프로그램의 논리적 요구를 만족시켜줄 수 있다.  
2. 데이터의 무결성
    - 여러 경로를 통해 잘못된 데이터가 발생하는 경우의 수를 방지하는 기능.  
3. 데이터의 보안성
    - 인가된 사용자들만 데이터베이스나 데이터베이스 내의 자원에 접슨할 수 있도록 계정 관리 또는 접근 권한을 설정함으로써 모든 데이터에 보안을 구현할 수 있다.  
4. 데이터의 일관성 
    - 연관된 정보를 논리적인 구조로 관리함으로써 어떤 하나의 데이터만 변경했을 경우 발생할 수 있는 데이터의 불일치성을 배제할 수 있다. 
5. 데이터 중복 최소화
    - 데이터베이스는 데이터를 통합해서 관리하므로 파일 시스템의 단점 중 하나인 자료의 중복과 데이터의 중복성 문제를 해결할 수 있다.  

### DB 성능
DB 성능은 디스크 IO를 어떻게 줄이느냐에서 시작한다.  
데이터를 읽으려면 디스크 헤더가 이동해 데이터를 읽는데, 디스크 헤더가 움직이는 시간에 의해 데이터를 읽는데 걸리는 시간이 결정된다.  
따라서 헤더의 이동을 최소화 하여 데이터를 읽고 쓰도록 최적화 해야한다.  

### KEY
각 로우를 고유하게 식별할 수 있는 어트리뷰트  
특정 데이터를 검색하거나 다른 데이터와 연관시키도록 사용  

### 슈퍼키, 후보키, 복합키
- 수퍼키
    - 특정 튜플을 고유하게 식별하는 하나의 어트리뷰트 or 어트리뷰트의 집합
    - 키의 조건이 만족되면서 최소성은 만족되지 않아도 됨
- 후보키
    - 각 튜플을 고유하게 식별하는 최소한의 어트리뷰트의 모임
    - 키의 조건과 최소성이 만족되어야함
- 복합키
    - 두 개 이상의 어트리뷰트로 구성되는 후보 키
    - 후보키의 특성과 같음

신용카드번호|이름|주민등록번호|주소  
:---:|:---:|:---:|:---:
1|A|XXXX-XXXX|서울특별시...
2|B|YYYY-YYYY|서울특별시...
3|C|ZZZZ-ZZZZ|대구광역시...

(신용카드번호), (주민등록번호)는 하나만으로 튜플을 고유식별 할 수 있기 때문에 수퍼키, 후보키가 모두 될 수 있다.  
(신용카드번호, 이름)과 같은 어트리뷰트는 수퍼키는 될 수 있지만 최소성에 의하여 후보키는 될 수 없다.  
(신용카드번호)만 있어도 고유식별이 가능하기 때문이다.  

만약 모든 어트리뷰트들이 중복이 되는 경우 어트리뷰트를 조합하여 중복을 피할 수 있다면 그 조합은 후보키가 될 수 있고, 이를 복합키라고 한다.  

### 기본키, 대리키, 대체키
기본키  
- 한 릴레이션에 후보키가 두개이상 있으면 하나를 기본키로 선정  
- 모든 튜플을 고유하게 식별해야하므로, NULL값이나 중복된 값을 가질 수 없다.  
- 기본키는 자연스러운 키를 선정하는 것이 좋다.  
대리키  
- 자연스러운 기본키가 없을 때, id와 같이 임의로 키를 만들어주는것  
- 기본키를 이용한 수정, 삭제, 외래키 참조에 효율적  
    - 보안상 이득  
    - 성능 향상  
대체 키  
- 기본키로 선정되지 않는 후보키  

### 외래키
외래키  
- 어떤 릴레이션의 기본키를 참조하는 어트리뷰트 (자체 릴레이션도 참조 가능)  
- 관계형 DB에서 릴레이션들 간의 관계를 나타내기 위해 사용  
- 외래 키 이름은 대응되는 기본 키와 다른 이름을 가질 수 있지만 참조되는 릴레이션의 기본키와 동일한 도메인을 가져야 함  

## SQL
잠시 SQL관련 복습

### JOIN
여러 테이블을 조합하기 위해 컬럼 기준으로 행을 합침  
![그림참고](https://github.com/Songwonseok/CS-Study/blob/main/Database/JOIN.md)  

CROSS JOIN  
- 두 테이블의 곱집합  
- 조건 없이 테이블A와 테이블B의 각 행을 다 조합한 결과를 보여줌  

INNER JOIN
- 두 테이블의 교집합만 보여줌  

LEFT JOIN
- 테이블 A를 기준으로 테이블B 중에서 조건에 맞는 컬럼을 추가해서 보여줌  

RIGHT JOIN
- 테이블 B를 기준으로 테이블A 중에서 조건에 맞는 컬럼을 추가해서 보여줌  

FULL OUTER JOIN
- 조건이 맞는것은 붙여주고 아닌것은 따로 해서 모두 보여줌  
